
### `ESP32_movement.ino`

This sketch runs on an ESP32 and combines a PIR motion sensor and an ultrasonic distance sensor to detect nearby presence. It uses `espeak-ng` (with German voice data) to output speech through a small 8 Ω speaker, connected via a **BC337 NPN transistor** driven by **PWM audio on GPIO18**. The BC337’s **base** is connected through a 1 kΩ resistor to GPIO18, **emitter to GND**, and **collector to the speaker's negative line**; the speaker's positive side connects to 3.3 V. A **100 nF ceramic capacitor** (labeled `104`) is placed between the **base and emitter** to filter PWM noise and stabilize the transistor switching. The **ultrasonic sensor** connects with **TRIG to GPIO16** and **ECHO to GPIO17**, using a **voltage divider** (1 kΩ + 2 kΩ) to reduce the 5 V ECHO signal to ~3.3 V. A **PIR sensor** connects its OUT pin to **GPIO15**. Additionally, a **momentary button** is wired between **GPIO19 and GND** and configured with `INPUT_PULLUP`: when pressed, the system speaks whether movement was recently detected and announces the current distance. The system measures every 200 ms, and announces "Hallo! Herzlich Willkommen!" only when motion or significant distance change (>10%) is detected within a 1-second window.

